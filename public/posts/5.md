```markdown
## ğŸ“Œ Giá»›i thiá»‡u
WebSocket cung cáº¥p káº¿t ná»‘i hai chiá»u (bidirectional) giá»¯a client vÃ  server, cho phÃ©p truyá»n dá»¯ liá»‡u real-time mÃ  khÃ´ng cáº§n polling. HoÃ n háº£o cho chat apps, live notifications, multiplayer games, vÃ  trading platforms.

## ğŸ¯ Má»¥c tiÃªu há»c
- Hiá»ƒu sá»± khÃ¡c biá»‡t giá»¯a WebSocket vÃ  HTTP
- Táº¡o WebSocket client trong trÃ¬nh duyá»‡t
- XÃ¢y dá»±ng WebSocket server vá»›i Node.js
- Implement reconnect logic vÃ  heartbeat

## ğŸ”§ HÆ°á»›ng dáº«n thá»±c hiá»‡n

### BÆ°á»›c 1: Node.js WebSocket Server (ws)

```javascript
// server.js
const WebSocket = require('ws');
const wss = new WebSocket.Server({ port: 8080 });

wss.on('connection', (ws) => {
  console.log('Client connected');
  ws.send(JSON.stringify({ type: 'welcome', msg: 'Welcome!' }));

  ws.on('message', (msg) => {
    // broadcast to all
    wss.clients.forEach(client => {
      if (client.readyState === WebSocket.OPEN) client.send(msg);
    });
  });
});
```

### BÆ°á»›c 2: Browser client (reconnect + heartbeat)

```javascript
function createWs(url) {
  let ws;
  let retry = 1000;

  function connect() {
    ws = new WebSocket(url);
    ws.onopen = () => { console.log('WS open'); retry = 1000; startHeartbeat(); };
    ws.onmessage = (e) => console.log('Msg', e.data);
    ws.onclose = () => { console.log('Closed, reconnecting...'); setTimeout(connect, retry); retry = Math.min(30000, retry * 2); };
    ws.onerror = (e) => console.error('WS error', e);
  }

  let hb;
  function startHeartbeat() {
    hb = setInterval(() => {
      if (ws.readyState === WebSocket.OPEN) ws.send(JSON.stringify({ type: 'ping' }));
    }, 20000);
  }

  connect();
  return {
    send: (data) => ws.readyState === WebSocket.OPEN && ws.send(JSON.stringify(data)),
    close: () => { clearInterval(hb); ws.close(); }
  };
}
```

### BÆ°á»›c 3: Integrate into React

Use a hook to manage connection state and messages, then render messages in a simple chat UI.

## ğŸ§ª BÃ i táº­p
1. XÃ¢y dá»±ng chat app Ä‘Æ¡n giáº£n: gá»­i/nháº­n tin nháº¯n, danh sÃ¡ch online users.
2. ThÃªm authentication token khi káº¿t ná»‘i vÃ  xá»­ lÃ½ quyá»n gá»­i tin.

## ğŸ“ Káº¿t luáº­n
WebSocket ráº¥t phÃ¹ há»£p cho realtime use-cases. HÃ£y luÃ´n xá»­ lÃ½ reconnect, heartbeat vÃ  authorization. Vá»›i quy mÃ´ lá»›n, cÃ¢n nháº¯c dÃ¹ng MQTT, Socket.io, hoáº·c giáº£i phÃ¡p managed (Pusher, Ably) tÃ¹y yÃªu cáº§u Ä‘á»™ tin cáº­y vÃ  latency.
```
## ğŸ“Œ Giá»›i thiá»‡u
WebSocket cung cáº¥p káº¿t ná»‘i hai chiá»u (bidirectional) giá»¯a client vÃ  server, cho phÃ©p truyá»n dá»¯ liá»‡u real-time mÃ  khÃ´ng cáº§n polling. HoÃ n háº£o cho chat apps, live notifications, multiplayer games, vÃ  trading platforms.

## ğŸ¯ Má»¥c tiÃªu há»c
- Hiá»ƒu sá»± khÃ¡c biá»‡t giá»¯a WebSocket vÃ  HTTP
- Táº¡o WebSocket client trong trÃ¬nh duyá»‡t
- XÃ¢y dá»±ng WebSocket server vá»›i Node.js
- Implement reconnect logic vÃ  heartbeat

## ğŸ”§ HÆ°á»›ng dáº«n thá»±c hiá»‡n

### BÆ°á»›c 1: Táº¡o WebSocket Server (Node.js)

\