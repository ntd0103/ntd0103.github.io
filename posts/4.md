## Ä‘Å¸â€œÅ’ GiĂ¡Â»â€ºi thiĂ¡Â»â€¡u
Fetch API lÄ‚Â  cÄ‚Â¡ch hiĂ¡Â»â€¡n Ă„â€˜Ă¡ÂºÂ¡i Ă„â€˜Ă¡Â»Æ’ thĂ¡Â»Â±c hiĂ¡Â»â€¡n HTTP requests trong JavaScript, thay thĂ¡ÂºÂ¿ cho XMLHttpRequest cĂ…Â© kĂ¡Â»Â¹. VĂ¡Â»â€ºi cÄ‚Âº phÄ‚Â¡p promise-based vÄ‚Â  async/await, code trĂ¡Â»Å¸ nÄ‚Âªn dĂ¡Â»â€¦ Ă„â€˜Ă¡Â»Âc vÄ‚Â  maintain hĂ†Â¡n rĂ¡ÂºÂ¥t nhiĂ¡Â»Âu.

## Ä‘Å¸ÂÂ¯ MĂ¡Â»Â¥c tiÄ‚Âªu hĂ¡Â»Âc
- HiĂ¡Â»Æ’u cÄ‚Â¡ch sĂ¡Â»Â­ dĂ¡Â»Â¥ng Fetch API vĂ¡Â»â€ºi Promise vÄ‚Â  async/await
- GĂ¡Â»Â­i GET/POST/PUT/DELETE requests
- XĂ¡Â»Â­ lÄ‚Â½ JSON response vÄ‚Â  error handling
- Ä‚Âp dĂ¡Â»Â¥ng trong React component

## Ä‘Å¸â€Â§ HĂ†Â°Ă¡Â»â€ºng dĂ¡ÂºÂ«n thĂ¡Â»Â±c hiĂ¡Â»â€¡n

### BĂ†Â°Ă¡Â»â€ºc 1: GET Request cĂ†Â¡ bĂ¡ÂºÂ£n

```javascript
// CÄ‚Â¡ch 1: DÄ‚Â¹ng .then()
fetch('https://jsonplaceholder.typicode.com/posts/1')
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));

// CÄ‚Â¡ch 2: DÄ‚Â¹ng async/await (khuyÄ‚Âªn dÄ‚Â¹ng)
async function getPost() {
  try {
    const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    console.log(data);
    return data;
  } catch (error) {
    console.error('Fetch error:', error);
  }
}
```

### BĂ†Â°Ă¡Â»â€ºc 2: POST Request vĂ¡Â»â€ºi JSON

```javascript
async function createPost(postData) {
  try {
    const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        // ThÄ‚Âªm token nĂ¡ÂºÂ¿u cĂ¡ÂºÂ§n authentication
        // 'Authorization': 'Bearer ' + token
      },
      body: JSON.stringify(postData)
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    console.log('Post created:', data);
    return data;
  } catch (error) {
    console.error('Error creating post:', error);
    throw error;
  }
}

// SĂ¡Â»Â­ dĂ¡Â»Â¥ng
createPost({
  title: 'BÄ‚Â i viĂ¡ÂºÂ¿t mĂ¡Â»â€ºi',
  body: 'NĂ¡Â»â„¢i dung bÄ‚Â i viĂ¡ÂºÂ¿t',
  userId: 1
});
```

### BĂ†Â°Ă¡Â»â€ºc 3: TÄ‚Â­ch hĂ¡Â»Â£p vÄ‚Â o React Component

```javascript
import React, { useState, useEffect } from 'react';

function PostList() {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetchPosts();
  }, []);
  
  async function fetchPosts() {
    try {
      setLoading(true);
      const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      
      if (!response.ok) {
        throw new Error('Failed to fetch posts');
      }
      
      const data = await response.json();
      setPosts(data.slice(0, 10)); // LĂ¡ÂºÂ¥y 10 posts Ă„â€˜Ă¡ÂºÂ§u
      setError(null);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  }
  
  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;
  
  return (
    <div>
      <h2>Posts</h2>
      {posts.map(post => (
        <div key={post.id}>
          <h3>{post.title}</h3>
          <p>{post.body}</p>
        </div>
      ))}
    </div>
  );
}
```

### BĂ†Â°Ă¡Â»â€ºc 4: TĂ¡ÂºÂ¡o API Helper reusable

```javascript
// api.js - Helper functions
const API_BASE = 'https://jsonplaceholder.typicode.com';

async function apiRequest(endpoint, options = {}) {
  const url = `${API_BASE}${endpoint}`;
  const config = {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
  };
  
  try {
    const response = await fetch(url, config);
    
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('API Request failed:', error);
    throw error;
  }
}

// CÄ‚Â¡c helper methods
export const api = {
  get: (endpoint) => apiRequest(endpoint),
  
  post: (endpoint, data) => apiRequest(endpoint, {
    method: 'POST',
    body: JSON.stringify(data),
  }),
  
  put: (endpoint, data) => apiRequest(endpoint, {
    method: 'PUT',
    body: JSON.stringify(data),
  }),
  
  delete: (endpoint) => apiRequest(endpoint, {
    method: 'DELETE',
  }),
};

// SĂ¡Â»Â­ dĂ¡Â»Â¥ng
// import { api } from './api';
// const posts = await api.get('/posts');
// const newPost = await api.post('/posts', { title: 'Hi' });
```

## Ä‘Å¸â€™Â¡ Tips & Best Practices

**1. LuÄ‚Â´n kiĂ¡Â»Æ’m tra response.ok**
```javascript
if (!response.ok) {
  throw new Error(`HTTP ${response.status}: ${response.statusText}`);
}
```

**2. Set timeout Ă„â€˜Ă¡Â»Æ’ trÄ‚Â¡nh request treo**
```javascript
const controller = new AbortController();
const timeoutId = setTimeout(() => controller.abort(), 5000);

fetch(url, { signal: controller.signal })
  .finally(() => clearTimeout(timeoutId));
```

**3. XĂ¡Â»Â­ lÄ‚Â½ loading vÄ‚Â  error states**
- HiĂ¡Â»Æ’n thĂ¡Â»â€¹ loading spinner khi Ă„â€˜ang fetch
- HiĂ¡Â»Æ’n thĂ¡Â»â€¹ error message khi fail
- Cho phÄ‚Â©p retry khi lĂ¡Â»â€”i

**4. Cache data khi cĂ¡ÂºÂ§n**
- DÄ‚Â¹ng React Query hoĂ¡ÂºÂ·c SWR cho data fetching advanced
- Implement cache trong localStorage cho offline support

## Ä‘Å¸Ââ€œ KĂ¡ÂºÂ¿t luĂ¡ÂºÂ­n
Fetch API lÄ‚Â  cÄ‚Â´ng cĂ¡Â»Â¥ mĂ¡ÂºÂ¡nh mĂ¡ÂºÂ½ vÄ‚Â  Ă„â€˜Ă†Â¡n giĂ¡ÂºÂ£n Ă„â€˜Ă¡Â»Æ’ gĂ¡Â»Âi REST API trong JavaScript. KĂ¡ÂºÂ¿t hĂ¡Â»Â£p vĂ¡Â»â€ºi async/await, bĂ¡ÂºÂ¡n cÄ‚Â³ thĂ¡Â»Æ’ viĂ¡ÂºÂ¿t code async rÄ‚Âµ rÄ‚Â ng vÄ‚Â  dĂ¡Â»â€¦ maintain.

**Key takeaways**:
- LuÄ‚Â´n dÄ‚Â¹ng async/await thay vÄ‚Â¬ .then() chains
- XĂ¡Â»Â­ lÄ‚Â½ errors Ă„â€˜Ä‚Âºng cÄ‚Â¡ch vĂ¡Â»â€ºi try/catch
- TĂ¡ÂºÂ¡o helper functions Ă„â€˜Ă¡Â»Æ’ tÄ‚Â¡i sĂ¡Â»Â­ dĂ¡Â»Â¥ng
- QuĂ¡ÂºÂ£n lÄ‚Â½ loading/error states trong UI

**BÄ‚Â i tĂ¡ÂºÂ­p thĂ¡Â»Â±c hÄ‚Â nh**: XÄ‚Â¢y dĂ¡Â»Â±ng mĂ¡Â»â„¢t CRUD app hoÄ‚Â n chĂ¡Â»â€°nh vĂ¡Â»â€ºi React + Fetch API, cÄ‚Â³ form validation, optimistic updates, vÄ‚Â  error recovery.
