```markdown
## 📌 Giới thiệu
Spring Boot giúp bạn đi từ zero → REST API trong vài phút, nhưng để duy trì một service production-ready cần hiểu patterns (DTOs, validation, error handling, testing). Bài này mở rộng ví dụ CRUD cơ bản và thêm phần thử nghiệm và best practices.

## 🎯 Mục tiêu học
- Tạo CRUD REST API với Spring Boot
- Sử dụng DTOs và validation để bảo vệ API
- Thêm integration tests và chạy với H2 in-memory DB

## 🔧 Step-by-step (practice-ready)

### 1) Khởi tạo project
- Dùng https://start.spring.io: chọn Spring Web, Spring Data JPA, H2, Lombok (tùy chọn).

### 2) Entity + DTO (ví dụ)

```java
@Entity
public class Post {
  @Id @GeneratedValue
  private Long id;
  private String title;
  @Column(length=2000)
  private String content;
}

public class PostDto {
  public Long id;
  public String title;
  public String content;
}
```

### 3) Controller + Service (tóm tắt)

```java
@RestController
@RequestMapping("/api/posts")
public class PostController {
  private final PostService service;
  // GET / POST / PUT / DELETE endpoints
}
```

### 4) Validation example

```java
public class CreatePostRequest {
  @NotBlank
  private String title;

  @Size(min=10)
  private String content;
}
```

Controller xử lý `@Valid` và trả lỗi 400 nếu payload không hợp lệ.

### 5) Integration test với H2

```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@AutoConfigureTestDatabase
public class PostIntegrationTest {
  @Autowired TestRestTemplate rest;

  @Test
  void createAndGet() {
    var req = Map.of("title","T","content","Some content ...");
    var res = rest.postForEntity("/api/posts", req, String.class);
    assertEquals(201, res.getStatusCodeValue());
  }
}
```

## 🧾 Best practices
- Tách DTO và Entity để tránh lộ thông tin nội bộ.
- Sử dụng HTTP status code phù hợp (201 Created, 204 No Content…).
- Thực hiện pagination cho endpoint list.

## 🧪 Bài tập
1. Thêm search endpoint (`/api/posts?q=keyword`) với JPA Criteria.
2. Viết một test kiếm tra bị lỗi validation (title rỗng) và xác nhận 400 trả về.

## 🎓 Kết luận
Spring Boot rất nhanh để bắt đầu, nhưng để production-ready bạn cần quan tâm tới validation, testing, transaction handling và cấu hình database. Bắt đầu từ các pattern nhỏ (DTO, service layer, repository) sẽ giúp code dễ bảo trì.
```
## 📌 Giới thiệu
Spring Boot là framework phổ biến nhất để xây dựng REST API trong Java. Với cơ chế auto-configuration và dependency injection mạnh mẽ, bạn có thể tạo một API hoàn chỉnh chỉ trong vài phút. Bài này sẽ hướng dẫn chi tiết từ khởi tạo project đến test API.

## 🎯 Mục tiêu học
- Tạo Spring Boot project với Spring Initializr
- Hiểu kiến trúc 3 lớp: Controller - Service - Repository
- Xây dựng CRUD operations cho REST API
- Test API với Postman và curl

## 🔧 Hướng dẫn thực hiện

### Bước 1: Khởi tạo project
Truy cập https://start.spring.io và chọn:
- **Project**: Maven
- **Language**: Java
- **Spring Boot**: 3.2.x
- **Dependencies**: Spring Web, Spring Data JPA, H2 Database

### Bước 2: Tạo Entity

\