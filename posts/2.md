```markdown
## üìå Gi·ªõi thi·ªáu
G·ªçi HTTP t·ª´ Java l√† nhu c·∫ßu thi·∫øt y·∫øu cho backend v√† microservices. T·ª´ Java 11, `HttpClient` mang ƒë·∫øn API hi·ªán ƒë·∫°i, async v√† h·ªó tr·ª£ HTTP/2. Trong khi `HttpURLConnection` l√† API c≈© nh∆∞ng v·∫´n h·ªØu d·ª•ng cho c√°c m√¥i tr∆∞·ªùng kh√¥ng c√≥ JDK 11.

## üéØ M·ª•c ti√™u h·ªçc
- Hi·ªÉu c√°ch g·ª≠i GET/POST v·ªõi `HttpClient` (Java 11+)
- C·∫•u h√¨nh timeout v√† x·ª≠ l√Ω l·ªói
- Vi·∫øt helper t√°i s·ª≠ d·ª•ng v·ªõi retry/backoff v√† logging

## üîß V√≠ d·ª• th·ª±c t·∫ø

### HttpClient (Java 11+) ‚Äì V√≠ d·ª• GET c∆° b·∫£n v·ªõi timeout

```java
import java.net.http.*;
import java.net.*;
import java.time.Duration;

public class HttpClientExample {
  public static void main(String[] args) throws Exception {
    HttpClient client = HttpClient.newBuilder()
      .connectTimeout(Duration.ofSeconds(5))
      .build();

    HttpRequest request = HttpRequest.newBuilder()
      .uri(URI.create("https://jsonplaceholder.typicode.com/posts/1"))
      .timeout(Duration.ofSeconds(5))
      .header("Accept", "application/json")
      .GET()
      .build();

    HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());
    System.out.println("Status: " + response.statusCode());
    System.out.println("Body: " + response.body());
  }
}
```

### G·ª≠i POST v·ªõi JSON

```java
HttpRequest post = HttpRequest.newBuilder()
  .uri(URI.create("https://jsonplaceholder.typicode.com/posts"))
  .header("Content-Type", "application/json")
  .POST(HttpRequest.BodyPublishers.ofString("{\"title\":\"Hi\",\"body\":\"Demo\"}"))
  .build();

HttpResponse<String> resp = client.send(post, HttpResponse.BodyHandlers.ofString());
```

### Retry pattern (simple)

```java
public static <T> T withRetry(Supplier<T> op, int retries, long baseDelayMs) throws Exception {
  for (int i = 0; i <= retries; i++) {
    try { return op.get(); }
    catch (Exception e) {
      if (i == retries) throw e;
      Thread.sleep(baseDelayMs * (1L << i)); // exponential backoff
    }
  }
  return null;
}
```

## üßæ Best practices
- Always set connect and read timeouts.
- Use proper headers (Accept, Content-Type, Authorization).
- Centralize HTTP calls in a helper/service with retry and logging.

## üß™ B√†i t·∫≠p
1. Vi·∫øt `HttpHelper` c√≥ ph∆∞∆°ng th·ª©c `getJson(url)` v√† `postJson(url, body)` k√®m retry.
2. T·∫°o test v·ªõi WireMock ƒë·ªÉ mock l·ªói 500 v√† ki·ªÉm tra retry behavior.

## üéì K·∫øt lu·∫≠n
`HttpClient` l√† l·ª±a ch·ªçn hi·ªán ƒë·∫°i cho Java 11+: async, d·ªÖ c·∫•u h√¨nh v√† m·∫°nh m·∫Ω. K·∫øt h·ª£p timeout v√† retry s·∫Ω l√†m cho client HTTP ·ªïn ƒë·ªãnh h∆°n trong m√¥i tr∆∞·ªùng production.
```
## üìå Gi·ªõi thi·ªáu
Trong th·ª±c t·∫ø, vi·ªác g·ªçi REST API t·ª´ ·ª©ng d·ª•ng Java l√† r·∫•t ph·ªï bi·∫øn. Java cung c·∫•p hai c√°ch ch√≠nh: **HttpURLConnection** (c√≥ t·ª´ JDK 1.1) v√† **HttpClient** (t·ª´ Java 11+). B√†i n√†y s·∫Ω so s√°nh c·∫£ hai ph∆∞∆°ng ph√°p v√† gi√∫p b·∫°n ch·ªçn c√¥ng c·ª• ph√π h·ª£p.

## üéØ M·ª•c ti√™u h·ªçc
- Hi·ªÉu s·ª± kh√°c bi·ªát gi·ªØa HttpURLConnection v√† HttpClient
- G·ª≠i GET request ƒë·ªÉ l·∫•y d·ªØ li·ªáu
- G·ª≠i POST request v·ªõi JSON body
- X·ª≠ l√Ω response code v√† parse d·ªØ li·ªáu tr·∫£ v·ªÅ

## üîß H∆∞·ªõng d·∫´n th·ª±c hi·ªán

### Ph∆∞∆°ng ph√°p 1: HttpClient (Java 11+) - Khuy√™n d√πng

**∆Øu ƒëi·ªÉm**: API hi·ªán ƒë·∫°i, d·ªÖ ƒë·ªçc, h·ªó tr·ª£ async

\