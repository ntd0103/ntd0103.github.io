## đŸ“Œ Giá»›i thiá»‡u
Trong thá»±c táº¿, viá»‡c gá»i REST API tá»« á»©ng dá»¥ng Java lĂ  ráº¥t phá»• biáº¿n. Java cung cáº¥p hai cĂ¡ch chĂ­nh: **HttpURLConnection** (cĂ³ tá»« JDK 1.1) vĂ  **HttpClient** (tá»« Java 11+). BĂ i nĂ y sáº½ so sĂ¡nh cáº£ hai phÆ°Æ¡ng phĂ¡p vĂ  giĂºp báº¡n chá»n cĂ´ng cá»¥ phĂ¹ há»£p.

## đŸ¯ Má»¥c tiĂªu há»c
- Hiá»ƒu sá»± khĂ¡c biá»‡t giá»¯a HttpURLConnection vĂ  HttpClient
- Gá»­i GET request Ä‘á»ƒ láº¥y dá»¯ liá»‡u
- Gá»­i POST request vá»›i JSON body
- Xá»­ lĂ½ response code vĂ  parse dá»¯ liá»‡u tráº£ vá»

## đŸ”§ HÆ°á»›ng dáº«n thá»±c hiá»‡n

### PhÆ°Æ¡ng phĂ¡p 1: HttpClient (Java 11+) - KhuyĂªn dĂ¹ng

**Æ¯u Ä‘iá»ƒm**: API hiá»‡n Ä‘áº¡i, dá»… Ä‘á»c, há»— trá»£ async

```java
import java.net.http.*;
import java.net.*;

public class HttpClientExample {
  public static void main(String[] args) throws Exception {
    // BÆ°á»›c 1: Táº¡o HttpClient instance
    HttpClient client = HttpClient.newHttpClient();
    
    // BÆ°á»›c 2: Táº¡o request GET
    HttpRequest request = HttpRequest.newBuilder()
      .uri(URI.create("https://jsonplaceholder.typicode.com/posts/1"))
      .header("Accept", "application/json")
      .GET()
      .build();
    
    // BÆ°á»›c 3: Gá»­i request vĂ  nháº­n response
    HttpResponse<String> response = client.send(
      request, 
      HttpResponse.BodyHandlers.ofString()
    );
    
    // BÆ°á»›c 4: Xá»­ lĂ½ response
    System.out.println("Status Code: " + response.statusCode());
    System.out.println("Response Body: " + response.body());
  }
}
```

### PhÆ°Æ¡ng phĂ¡p 2: HttpURLConnection - PhÆ°Æ¡ng phĂ¡p cá»• Ä‘iá»ƒn

**Æ¯u Ä‘iá»ƒm**: CĂ³ sáºµn tá»« Java cÅ©, khĂ´ng cáº§n dependency

```java
import java.net.*;
import java.io.*;

public class HttpURLExample {
  public static void main(String[] args) throws Exception {
    // BÆ°á»›c 1: Táº¡o URL vĂ  má»Ÿ connection
    URL url = new URL("https://jsonplaceholder.typicode.com/posts/1");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    
    // BÆ°á»›c 2: Cáº¥u hĂ¬nh request
    conn.setRequestMethod("GET");
    conn.setRequestProperty("Accept", "application/json");
    
    // BÆ°á»›c 3: Äá»c response
    int statusCode = conn.getResponseCode();
    BufferedReader in = new BufferedReader(
      new InputStreamReader(conn.getInputStream())
    );
    
    String line;
    StringBuilder response = new StringBuilder();
    while ((line = in.readLine()) != null) {
      response.append(line);
    }
    in.close();
    
    System.out.println("Status: " + statusCode);
    System.out.println("Body: " + response.toString());
  }
}
```

### Gá»­i POST Request vá»›i JSON

```java
public static void postExample() throws Exception {
  HttpClient client = HttpClient.newHttpClient();
  
  // Táº¡o JSON body
  String jsonBody = """
    {
      "title": "BĂ i viáº¿t má»›i",
      "body": "Ná»™i dung bĂ i viáº¿t",
      "userId": 1
    }
  """;
  
  HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://jsonplaceholder.typicode.com/posts"))
    .header("Content-Type", "application/json")
    .POST(HttpRequest.BodyPublishers.ofString(jsonBody))
    .build();
  
  HttpResponse<String> response = client.send(
    request, 
    HttpResponse.BodyHandlers.ofString()
  );
  
  System.out.println("Created: " + response.body());
}
```

## đŸ“ So sĂ¡nh HttpClient vs HttpURLConnection

| TiĂªu chĂ­ | HttpClient | HttpURLConnection |
|----------|------------|-------------------|
| Java version | 11+ | 1.1+ |
| API design | Modern, fluent | CÅ©, verbose |
| Async support | âœ… CĂ³ | âŒ KhĂ´ng |
| HTTP/2 | âœ… CĂ³ | âŒ KhĂ´ng |
| Dá»… sá»­ dá»¥ng | â­â­â­â­â­ | â­â­â­ |

## đŸ’¡ Tips & Best Practices
1. **Timeout**: LuĂ´n set timeout Ä‘á»ƒ trĂ¡nh block vĂ´ thá»i háº¡n
2. **Connection pooling**: HttpClient tá»± Ä‘á»™ng quáº£n lĂ½ connection pool
3. **Error handling**: Báº¯t IOException vĂ  kiá»ƒm tra status code
4. **Security**: Vá»›i HTTPS, validate certificate Ä‘Ăºng cĂ¡ch

## đŸ“ Káº¿t luáº­n
**Khuyáº¿n nghá»‹**: Náº¿u dá»± Ă¡n cá»§a báº¡n dĂ¹ng Java 11+, hĂ£y chá»n **HttpClient** vĂ¬ API hiá»‡n Ä‘áº¡i vĂ  dá»… maintain hÆ¡n. Chá»‰ dĂ¹ng HttpURLConnection khi báº¯t buá»™c support Java 8 trá»Ÿ xuá»‘ng.

**BĂ i táº­p thá»±c hĂ nh**: Táº¡o má»™t class HTTPHelper vá»›i cĂ¡c method get(), post(), put(), delete() sá»­ dá»¥ng HttpClient, kĂ¨m retry logic vĂ  logging Ä‘á»ƒ tĂ¡i sá»­ dá»¥ng trong cĂ¡c dá»± Ă¡n thá»±c táº¿.