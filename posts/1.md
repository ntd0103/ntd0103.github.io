## Ä‘Å¸â€œÅ’ GiĂ¡Â»â€ºi thiĂ¡Â»â€¡u
Socket lÄ‚Â  nĂ¡Â»Ân tĂ¡ÂºÂ£ng cĂ¡Â»Â§a lĂ¡ÂºÂ­p trÄ‚Â¬nh mĂ¡ÂºÂ¡ng trong Java. NÄ‚Â³ cung cĂ¡ÂºÂ¥p cĂ†Â¡ chĂ¡ÂºÂ¿ giao tiĂ¡ÂºÂ¿p hai chiĂ¡Â»Âu giĂ¡Â»Â¯a client vÄ‚Â  server thÄ‚Â´ng qua TCP/IP. Trong bÄ‚Â i nÄ‚Â y, mÄ‚Â¬nh sĂ¡ÂºÂ½ hĂ†Â°Ă¡Â»â€ºng dĂ¡ÂºÂ«n cÄ‚Â¡c bĂ¡ÂºÂ¡n xÄ‚Â¢y dĂ¡Â»Â±ng mĂ¡Â»â„¢t hĂ¡Â»â€¡ thĂ¡Â»â€˜ng Echo Ă„â€˜Ă†Â¡n giĂ¡ÂºÂ£n Ă„â€˜Ă¡Â»Æ’ hiĂ¡Â»Æ’u rÄ‚Âµ cÄ‚Â¡ch Socket hoĂ¡ÂºÂ¡t Ă„â€˜Ă¡Â»â„¢ng.

## Ä‘Å¸ÂÂ¯ MĂ¡Â»Â¥c tiÄ‚Âªu hĂ¡Â»Âc
- HiĂ¡Â»Æ’u khÄ‚Â¡i niĂ¡Â»â€¡m Socket vÄ‚Â  ServerSocket trong Java
- TĂ¡ÂºÂ¡o server lĂ¡ÂºÂ¯ng nghe kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i trÄ‚Âªn mĂ¡Â»â„¢t cĂ¡Â»â€¢ng cĂ¡Â»Â¥ thĂ¡Â»Æ’
- XÄ‚Â¢y dĂ¡Â»Â±ng client kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i vÄ‚Â  trao Ă„â€˜Ă¡Â»â€¢i dĂ¡Â»Â¯ liĂ¡Â»â€¡u vĂ¡Â»â€ºi server
- XĂ¡Â»Â­ lÄ‚Â½ luĂ¡Â»â€œng dĂ¡Â»Â¯ liĂ¡Â»â€¡u vÄ‚Â o/ra (InputStream/OutputStream)

## Ä‘Å¸â€Â§ HĂ†Â°Ă¡Â»â€ºng dĂ¡ÂºÂ«n thĂ¡Â»Â±c hiĂ¡Â»â€¡n

### BĂ†Â°Ă¡Â»â€ºc 1: TĂ¡ÂºÂ¡o Server
Server sĂ¡ÂºÂ½ lĂ¡ÂºÂ¯ng nghe trÄ‚Âªn cĂ¡Â»â€¢ng 5000 vÄ‚Â  chĂ¡Â»Â kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i tĂ¡Â»Â« client:

```java
import java.net.*;
import java.io.*;

public class EchoServer {
  public static void main(String[] args) {
    try {
      // BĂ†Â°Ă¡Â»â€ºc 1: TĂ¡ÂºÂ¡o ServerSocket lĂ¡ÂºÂ¯ng nghe trÄ‚Âªn cĂ¡Â»â€¢ng 5000
      ServerSocket server = new ServerSocket(5000);
      System.out.println("Server Ă„â€˜ang chĂ¡Â»Â kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i...");
      
      // BĂ†Â°Ă¡Â»â€ºc 2: ChĂ¡ÂºÂ¥p nhĂ¡ÂºÂ­n kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i tĂ¡Â»Â« client
      Socket client = server.accept();
      System.out.println("Client Ă„â€˜Ä‚Â£ kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i: " + client.getInetAddress());
      
      // BĂ†Â°Ă¡Â»â€ºc 3: TĂ¡ÂºÂ¡o luĂ¡Â»â€œng Ă„â€˜Ă¡Â»Âc/ghi
      BufferedReader in = new BufferedReader(
        new InputStreamReader(client.getInputStream())
      );
      PrintWriter out = new PrintWriter(client.getOutputStream(), true);
      
      // BĂ†Â°Ă¡Â»â€ºc 4: Ă„ÂĂ¡Â»Âc dĂ¡Â»Â¯ liĂ¡Â»â€¡u vÄ‚Â  phĂ¡ÂºÂ£n hĂ¡Â»â€œi
      String line = in.readLine();
      System.out.println("Server nhĂ¡ÂºÂ­n: " + line);
      out.println("Echo: " + line);
      
      // BĂ†Â°Ă¡Â»â€ºc 5: Ă„ÂÄ‚Â³ng kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i
      client.close();
      server.close();
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}
```

### BĂ†Â°Ă¡Â»â€ºc 2: TĂ¡ÂºÂ¡o Client
Client sĂ¡ÂºÂ½ kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i tĂ¡Â»â€ºi server vÄ‚Â  gĂ¡Â»Â­i tin nhĂ¡ÂºÂ¯n:

```java
import java.net.*;
import java.io.*;

public class SimpleClient {
  public static void main(String[] args) {
    try {
      // BĂ†Â°Ă¡Â»â€ºc 1: KĂ¡ÂºÂ¿t nĂ¡Â»â€˜i tĂ¡Â»â€ºi server
      Socket socket = new Socket("localhost", 5000);
      System.out.println("Ă„ÂÄ‚Â£ kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i tĂ¡Â»â€ºi server!");
      
      // BĂ†Â°Ă¡Â»â€ºc 2: TĂ¡ÂºÂ¡o luĂ¡Â»â€œng ghi/Ă„â€˜Ă¡Â»Âc
      PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
      BufferedReader in = new BufferedReader(
        new InputStreamReader(socket.getInputStream())
      );
      
      // BĂ†Â°Ă¡Â»â€ºc 3: GĂ¡Â»Â­i tin nhĂ¡ÂºÂ¯n
      out.println("Hello Server");
      
      // BĂ†Â°Ă¡Â»â€ºc 4: NhĂ¡ÂºÂ­n phĂ¡ÂºÂ£n hĂ¡Â»â€œi
      String response = in.readLine();
      System.out.println("PhĂ¡ÂºÂ£n hĂ¡Â»â€œi tĂ¡Â»Â« server: " + response);
      
      // BĂ†Â°Ă¡Â»â€ºc 5: Ă„ÂÄ‚Â³ng kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i
      socket.close();
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}
```

### BĂ†Â°Ă¡Â»â€ºc 3: ChĂ¡ÂºÂ¡y thĂ¡Â»Â­ nghiĂ¡Â»â€¡m
1. MĂ¡Â»Å¸ 2 terminal/command prompt
2. ChĂ¡ÂºÂ¡y Server trĂ†Â°Ă¡Â»â€ºc: `java EchoServer`
3. ChĂ¡ÂºÂ¡y Client: `java SimpleClient`
4. Quan sÄ‚Â¡t kĂ¡ÂºÂ¿t quĂ¡ÂºÂ£ trÄ‚Âªn cĂ¡ÂºÂ£ hai terminal

## Ä‘Å¸â€™Â¡ KiĂ¡ÂºÂ¿n thĂ¡Â»Â©c bĂ¡Â»â€¢ sung
- **ServerSocket.accept()**: PhĂ†Â°Ă†Â¡ng thĂ¡Â»Â©c nÄ‚Â y sĂ¡ÂºÂ½ block (chĂ¡Â»Â) cho Ă„â€˜Ă¡ÂºÂ¿n khi cÄ‚Â³ client kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i
- **BufferedReader/PrintWriter**: GiÄ‚Âºp Ă„â€˜Ă¡Â»Âc/ghi dĂ¡Â»Â¯ liĂ¡Â»â€¡u vĂ„Æ’n bĂ¡ÂºÂ£n dĂ¡Â»â€¦ dÄ‚Â ng hĂ†Â¡n
- **Port number**: NÄ‚Âªn chĂ¡Â»Ân port > 1024 Ă„â€˜Ă¡Â»Æ’ trÄ‚Â¡nh xung Ă„â€˜Ă¡Â»â„¢t vĂ¡Â»â€ºi system ports

## Ä‘Å¸Ââ€œ KĂ¡ÂºÂ¿t luĂ¡ÂºÂ­n
Qua bÄ‚Â i hĂ¡Â»Âc nÄ‚Â y, bĂ¡ÂºÂ¡n Ă„â€˜Ä‚Â£ nĂ¡ÂºÂ¯m Ă„â€˜Ă†Â°Ă¡Â»Â£c:
- CÄ‚Â¡ch tĂ¡ÂºÂ¡o server socket Ă„â€˜Ă¡Â»Æ’ lĂ¡ÂºÂ¯ng nghe kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i
- CÄ‚Â¡ch client kĂ¡ÂºÂ¿t nĂ¡Â»â€˜i vÄ‚Â  trao Ă„â€˜Ă¡Â»â€¢i dĂ¡Â»Â¯ liĂ¡Â»â€¡u
- CĂ†Â¡ chĂ¡ÂºÂ¿ blocking I/O trong Java Socket

**BÄ‚Â i tĂ¡ÂºÂ­p thĂ¡Â»Â±c hÄ‚Â nh**: ThĂ¡Â»Â­ mĂ¡Â»Å¸ rĂ¡Â»â„¢ng chĂ†Â°Ă†Â¡ng trÄ‚Â¬nh Ă„â€˜Ă¡Â»Æ’ server cÄ‚Â³ thĂ¡Â»Æ’ xĂ¡Â»Â­ lÄ‚Â½ nhiĂ¡Â»Âu client cÄ‚Â¹ng lÄ‚Âºc bĂ¡ÂºÂ±ng cÄ‚Â¡ch sĂ¡Â»Â­ dĂ¡Â»Â¥ng Thread hoĂ¡ÂºÂ·c ExecutorService. Ă„ÂÄ‚Â¢y sĂ¡ÂºÂ½ lÄ‚Â  nĂ¡Â»Ân tĂ¡ÂºÂ£ng Ă„â€˜Ă¡Â»Æ’ xÄ‚Â¢y dĂ¡Â»Â±ng cÄ‚Â¡c Ă¡Â»Â©ng dĂ¡Â»Â¥ng chat hoĂ¡ÂºÂ·c game server thĂ¡Â»Â±c tĂ¡ÂºÂ¿!
